#! /path/to/executable/eggdrop

## These are the common modules loaded by eggdrop for an IRC-connected bot.
## For a complete description of each module, please consult eggdrop.conf
loadmodule blowfish  ; # Userfile encryption
loadmodule dns       ; # Asynchronous DNS support
loadmodule channels  ; # Channel support
loadmodule server    ; # Core server support
loadmodule ctcp      ; # CTCP functionality
loadmodule irc       ; # Basic IRC functionality
#loadmodule transfer ; # DCC SEND/GET and Userfile transfer
#loadmodule share    ; # Userfile sharing
#loadmodule compress ; # Compress userfiles for transfer
#loadmodule filesys  ; # File server support
#loadmodule notes     ; # Note storing for users
#loadmodule console   ; # Console setting storage
#loadmodule seen     ; # Basic seen functionality
#loadmodule assoc    ; # Party line channel naming
loadmodule uptime    ; # Centralized uptime stat collection (http://uptime.eggheads.org)


##### BASIC SETTINGS #####

## Set the nick the bot uses on IRC, and on the botnet unless you specify a
## separate botnet-nick, here.
set nick "APOCALYPBOT"

## Set the alternative nick which the bot uses on IRC if the nick specified
## by 'set nick' is unavailable. All '?' characters will be replaced by random
## numbers.
set altnick "BAMBOT"

## Set what should be displayed in the real-name field for the bot on IRC.
## This can not be blank, it has to contain something.
set realname "APOCALYPTO"

## This setting defines the username the bot uses on IRC. This setting has
## no effect if an ident daemon is running on your bot's machine.
set username "APOCALYPTO"

## Both the port and password fields are optional; however, if you want to set a
## password or use SSL you must also set a port. If a port isn't specified it
## will default to your default-port setting.
set servers {
    irc.chatzona.org:6667:ninivela
#  another.example.com:7000:password
#  [2001:db8:618:5c0:263::]:6669:password
#  ssl.example.net:+6697
}

###########################################################################
## ESTO LO QUEDO COMO INFORMACIÓN PERO CON PONER LA IP ADAPTA TAMBIÉN EL VHOST SI LO TUBIERA 

## Network settings overview
## With the addition of IPv6 and the associated config changes, here are some
## BASIC common networking scenarios, along with the appropriate settings
## needed:
##
## SHELL PROVIDER (MULTIPLE IPs/VHOSTS)
## * set vhost4 or vhost6 to the IP/vhost you want to use
## * set listen-addr to the same IP/vhost as above
##
## HOME COMPUTER/VPS, DIRECT INTERNET CONNECTION (SINGLE IP, NO NAT)
## * do not set vhost4/vhost6
## * do not set listen-addr
##
## HOME COMPUTER, BEHIND A NAT
## * do not set vhost4/vhost6
## * do not set listen-addr
## * set nat-ip to your external IP
##
## Below is a detailed description of each setting, please read them to
## learn more about their function.
############################################################################

## If your host has multiple IPv4 addresses, uncomment and set this variable
## to the IP you wish to use for connecting to IRC.
#set vhost4 "virtual.host.com"
#set vhost4 "eggdrop.es"

# If your host has multiple IPv6 addresses, uncomment and set this variable
# to the IP you wish to use for connecting to IRC.
#set vhost6 "my.ipv6.host.com"
#set vhost6 "2001:db8::c001:b07"

## IPv4/IPv6 address (or hostname) to bind for listening. If you don't set
## this variable, eggdrop will listen on all available IPv4 or IPv6 interfaces,
## depending on the 'prefer-ipv6' variable (see below).
## Note that eggdrop will accept IPv4 connections with IPv6 sockets too.
set listen-addr "LAIPDENUESTROSERVIDOR"
#set listen-addr "2001:db8:618:5c0:263::"
#set listen-addr "virtual.host.com"

## Prefer IPv6 over IPv4 for connections and dns resolution?
## If the preferred protocol family is not supported, the other one
## will be tried.
#set prefer-ipv6 0 (SI USASIS IPV6 Y PREFEREIS QUE LO USE PRINCIPAL EN VEZ DE IPV4)

##### LOG FILES #####

## See eggdrop.conf for documentation on the logfile flags and settings.

# This creates a logfile named eggdrop.log that captures items logged at the
# m, c, and o log levels (private msgs/ctcps, commands/errors, and misc 
# info) from any channel.
logfile mco * "logs/eggdrop.log"

# This creates a logfile named lamest.log that captures items logged at the
# j, p, and k log levels (joins/parts/quits/netsplits, public chat,
# kicks/bans/mode changes) on the channel #lamest.
logfile jpk #eggdrop "logs/eggdrop.log"

## This should be 0 for disk space restricted shells, and 1 if you want to
## generate channel statistics with tools such as pisg.
## If it is 0, eggdrop will delete logfiles older than 2 days.
## If it is 1, eggdrop will keep logging into the specified logfiles forever.
## See eggdrop.conf for more detailed settings.
set log-forever 1

## Code to set settings based on the above setting, do not edit this.
if {${log-forever}} {
	set switch-logfiles-at 2500
	set keep-all-logs 0
}

## "Writing user file..." and "Writing channel file..." messages won't be logged
## anymore if this option is enabled. If you set it to 2, the "Backing up user
## file..." and "Backing up channel file..." messages will also not be logged.
## In addition to this, you can disable the "Switching logfiles..." and the new
## date message at midnight, by setting this to 3.
set quiet-save 0

##### FILES AND DIRECTORIES #####

# Specify here the filename your userfile should be saved as.
set userfile "Apocalybot.user"

# Specify here where Eggdrop should look for help files. Don't modify this
# setting unless you know what you're doing!
set help-path "help/"

##### BOTNET/DCC/TELNET #####

## If you want to use a different nickname on the botnet than you use on
## IRC (i.e. if you're on an un-trusted botnet), un-comment the next line
## and set it to the nick you would like to use.
set botnet-nick "Apocalypbot"

## You need to un-comment this line and change the port number in order to open
## the listen port. You should not keep this set to 3333.
listen 3335 all

##### COMMON MODULES SETTINGS #####

## Below are various settings for the modules included with Eggdrop.
## PLEASE READ AND EDIT THEM CAREFULLY, even if you're an old hand at
## Eggdrop, things change.

## This path specifies the path were Eggdrop should look for its modules.
## If you run the bot from the compilation directory, you will want to set
## this to "". If you use 'make install' (like all good kiddies do ;), this
## is a fine default. Otherwise, use your head :)
set mod-path "modules/"

#### DNS MODULE ####

## In case your bot has trouble finding dns servers or you want to use
## specific ones, you can set them here. The value is a list of dns servers.
## The order doesn't matter. You can also specify a non-standard port.
## The default is to use the system specified dns servers.
set dns-servers "8.8.8.8 8.8.4.4"

#### CHANNELS MODULE ####
set msg-rate 2
set keep-nick 0
set global-flood-chan 0:0
set global-flood-deop 0:0
set global-flood-kick 0:0
set global-flood-join 0:0
set global-flood-ctcp 0:0
set global-flood-nick 0:0
set global-aop-delay 0:00
set global-idle-kick 0
set global-chanmode "nt"
set global-stopnethack-mode 0
set global-revenge-mode 0
set global-ban-time 0
set global-exempt-time 0
set global-invite-time 0
set flood-msg 5:5
set flood-ctcp 3:60
### SET GLOBAL ###
set global-chanset {
 -autoop -autovoice
-bitch +cycle
+dontkickops +dynamicbans
+dynamicexempts +dynamicinvites
-enforcebans +greet
-inactive -nodesynch
-protectfriends +protectops
-revenge -revengebot
-secret -seen
+shared +statuslog
+userbans +userexempts
+userinvites
}
### CHANNELS #### 
### SE ADAPTA A LOS PARAMETROS DESDE QUE EMPIEZA LA LLAVE HASTA QUE TERMINA ###
channel add #huesos_secos {
chanmode "+tn"
idle-kick 0
flood-chan 5:4
flood-join 5:10
flood-ctcp 3:60
flood-deop 0:0
flood-kick 0:0
}
# channel set #nospam -enforcebans +dynamicbans -autoop +autovoice -protectops

channel add #huesos_secos {
chanmode "+tn"
}
## Enter here the filename where dynamic channel settings are stored.
set chanfile "APOCALYPTO.chan"

### (ADAPTA TODO LO QUE HAY POR ENCIMA DE SET CHANNEL) ###
channel add #huesos_secos

#### SERVER MODULE ####

set net-type 5

## This is a Tcl script to be run immediately after connecting to a server.
bind evnt - init-server evnt:init_server

proc evnt:init_server {type} {
  global botnick
  putquick "MODE $botnick +Ii-ws"
### ESTO ES UN CAPRICHO MIO POR SI QUIERES DARLE TIMERS ###
 #utimer 25 {putquick "nick UN-NICK"}
 #utimer 26 {putquick "PRIVMSG NICK :identify UNACLAVE"}
 #utimer 30 {putquick "MODE $botnick +iI -ws"}
 #utimer 33 {putquick "join #eggdrop"}
}

## Set the default port which should be used if none is specified with
## '.jump' or in 'set servers'.
set default-port 6667

## This setting allows you to specify the maximum nick-length supported by your
## network. The default setting is 9. The maximum supported length by Eggdrop
## is 32.
set nick-len 32

#### CTCP MODULE ####

## Set here how the ctcp module should answer ctcps. There are 3 possible
## operating modes:
##   0: Normal behavior is used.
##   1: The bot ignores all ctcps, except for CHAT and PING requests
##      by users with the +o flag.
##   2: Normal behavior is used, however the bot will not answer more
##      than X ctcps in Y seconds (defined by 'set flood-ctcp').
set ctcp-mode 0
set ctcp-version "LO QUE RESPONDE SI LE HACEN CTCP VERSION"

#### IRC MODULE ####

## Many takeover attempts occur due to lame users blindly /msg ident'ing to
## the bot and attempting to guess passwords. We now unbind this command by
## default to discourage them. You can enable these commands by commenting the
## following two lines.
unbind msg - ident *msg:ident
unbind msg - addhost *msg:addhost

##### SCRIPTS #####

## This is a good place to load scripts to use with your bot.
## source scripts/script.tcl
## The 3 scripts below are default and shouldn't be removed.

source scripts/alltools.tcl
source scripts/action.fix.tcl
source scripts/dccwhois.tcl
### AQUÍ PONDRÁS LAS TCLS QUE VAS A USAR ###
source scripts/eGuard.tcl
## Use this script for Tcl and Eggdrop backwards compatibility.
## NOTE: This can also cause problems with some newer scripts.
#source scripts/compat.tcl
